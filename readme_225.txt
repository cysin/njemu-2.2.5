----------------------------------------------------------------------------------------

  2.2.5 ソース (2.2.3以降はバグ修正版です)

----------------------------------------------------------------------------------------

[ver.2.2.5]

・CPS2PSP 1.5 Kernel版の動作がおかしかったようなので、描画関係の処理を少し変更。

・AdHocのコードをver.2.3.0のものに置き換え。それに伴うコードの変更多数。

・コマンドリストの読み込みが遅く、ゲームの起動に時間がかかっていたので高速化。
  (おまけです。あまりテストして無いので、問題があったら戻してください。)

※AdHocの変更に伴うコードの変更が多いので、どのファイルを修正したかの詳細は省略。
  ファイルのタイムスタンプが 2007/10/24のものは、ver.2.3.0から移植したもの、
  2007/10/27は、2.2.5での修正/変更のあったものとなります。

----------------------------------------------------------------------------------------

[ver.2.2.4]

src/cps1/sprite.c

・画面更新時に描画フレームをクリアしていなかったため、画面上にごみが残る場合があった
  不具合を修正。

src/cps2/driver.c

・MAME 0.120の処理に合わせ、ssf2tbのネットワークアダプタ検出処理を無視するように変更。

src/cps2/memintrf.c

・MVSPSPと同様に、拡張メモリの確保方法に問題があったため、スリープ時に拡張メモリの
  一部の退避が出来ていない場合があった不具合を修正。

src/mvs/driver.c
src/mvs/vidhrdw.h

・定数の定義追加、変更に伴いコードを修正。

src/mvs/vidhrdw.c

・fullmode = 0時のスプライト拡大処理で、スプライトの縦位置座標反転時にスプライトの
  サイズが正しく処理されない不具合があったため、正しく処理されるよう修正。
・スプライトの描画で、チェーンスプライト機能により横に連結されたスプライトを一つの
  単位として処理するように変更。
・fixedスプライトレイヤーで画面外の見えないスプライトを、横1キャラ分ずつ余分に描画して
  いたため、描画しないように変更。

src/mvs/memintrf.c

・スプライト拡大処理用のテーブル作成処理を変更。

src/ncdz/driver.h
src/ncdz/vidhrdw.h

・定数の定義追加、変更に伴いコードを修正。

src/ncdz/vidhrdw.c

・fullmode = 0時のスプライト拡大処理で、スプライトの縦位置座標反転時にスプライトの
  サイズが正しく処理されない不具合があったため、正しく処理されるよう修正。
・スプライトの描画で、チェーンスプライト機能により横に連結されたスプライトを一つの
  単位として処理するように変更。

src/ncdz/memintrf.c

・スプライト拡大処理用のテーブル作成処理を変更。

src/psp/config.c

・INIファイルバージョンを変更した場合に、ROMパスがクリアされ、ゲームが起動できなく
  なっていたバグを修正。

src/psp/filer.c

・takka氏のファイル置き場のURLを修正。

src/psp/psp.c

・1.5 Kernel版でAdHocを有効にした際、user modeスレッドで二重にAdHoc用モジュールを
  ロードしていたため、該当部分を削除。

src/psp/ui_text.c

・一部の表記を変更。

homehookprx/main.c

・CFW 3.60で3.71用のAPIを使用していたため、動作しなかったバグを修正。


data/zipname/zipname.cps2
data/zipnamej/zipnamej.cps2

・ssf2tbが動作するようになったため、GAME_NOT_WORKフラグを削除。


data/rominfo/rominfo.cps1
data/rominfo/rominfo.cps2

・ゲーム起動時のROM情報解析時間を短縮するため、余分な半角スペースを削除し、ファイル
  サイズを減少。

data/rominfo/rominfo.mvs
・ゲーム起動時のROM情報解析時間を短縮するため、余分な半角スペースを削除し、ファイル
  サイズを減少。また、MAME 0.120のROMセット変更に対応。

----------------------------------------------------------------------------------------

[ver.2.2.3 bugfix 1]

src/mvs/memintrf.c

・拡張メモリの確保方法に問題があったため、スリープ時に拡張メモリの一部の退避が出来て
  いない場合があった不具合を修正。

src/common/cache.c

・上記の変更に伴い、ステートセーブ時のメモリ確保処理を変更。

----------------------------------------------------------------------------------------
                                                                                  以上。
